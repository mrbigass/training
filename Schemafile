# -*- mode: ruby -*-
# vi: set ft=ruby :

create_table :users, :options=>'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.integer :office_id, null: false
  t.string :name, null: false, default: ''
  t.string :email, null: false, default: ''
  t.string :password_digest, null: false, default: ''

  t.timestamps null: false
end

create_table :machines, :options=>'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.string :name, null: false
  t.integer :office_id, null: false
end

create_table :offices, :options=>'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.string :name, null: false
end

create_table :customers, :options=>'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.string :name, null: false
end

create_table :lendings, :options=>'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.integer :machine_id, null: false
  t.integer :customer_id, null: false
  t.datetime :lend_at, null: false
  t.datetime :return_at, null: false
end
